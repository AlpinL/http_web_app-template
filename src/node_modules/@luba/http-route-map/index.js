'use strict';

// export

module.exports = HttpRouteMap;

// functions

function HttpRouteMap() {

	// state

	const map = {};

	// public

	Object.assign(this, {
		setHttpRoutes,
		get,
	});

	// function

	function setHttpRoutes(setup) {
		setup((method, path, handler) => {
			if(!(method in map)) {
				map[method] = {};
			}
			if(!(path in map[method])) {
				map[method][path] = handler;
			}
		});
	}

	function get(method, path) {
		if(map[method]) {
			const handler = map[method][path];
			if(handler) {
				return handler;
			}
		}
		return map['*']['*'];
	}
}
